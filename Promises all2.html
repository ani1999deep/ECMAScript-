<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Promise.all</title>
</head>
<body>
    <script>
        let promiseCAll=function (retunData,messege){
          return  function(resolve,reject){

                
            setTimeout(()=>{
           console.log(`The${messege}  Promises resolved`);
           resolve(retunData);

            },retunData*1000);
        };
    }
        
let p1 =new Promise(promiseCAll(10,"First"));

let p2 =new Promise(promiseCAll(20,"Second"));

let p3 =new Promise(promiseCAll(30,"Third"));

let p4=new Promise(function(resolve,reject){

    reject("The 4th promise has rejected")
});

var total=0;
Promise.all([p1,p2,p3,p4]).then((result)=>{

for(var i in result){total=total+result[i];}

    console.log(`Result is ${result}`);

    console.log(`Result of sum is ${total}`);
}).catch((error)=>{
    console.log(`Result is ${error}`);
})
    </script>
</body>
</html>